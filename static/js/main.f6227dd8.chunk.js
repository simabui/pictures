(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{10:function(e,t,a){e.exports={App:"App_App__r47RI",Loader:"App_Loader__2WR99"}},12:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2SL7Z",Modal:"Modal_Modal__16QUR"}},27:function(e,t,a){e.exports={Button:"Button_Button__1bpJQ"}},28:function(e,t,a){e.exports={Error:"Error_Error__1AIMU"}},3:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3A301",SearchForm:"Searchbar_SearchForm__3VkDa","SearchForm-button":"Searchbar_SearchForm-button__2RAEz","SearchForm-button-label":"Searchbar_SearchForm-button-label__3-_qj","SearchForm-input":"Searchbar_SearchForm-input__2OZti"}},30:function(e,t,a){e.exports=a(76)},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),c=a.n(o),l=a(9),i=a.n(l),s=a(13),u=a(24),h=a(4),m=a(5),p=a(7),d=a(6),f=a(8),b=a(25),v=a.n(b),g=a(10),S=a.n(g),y=a(11),_=a.n(y),E=a(29);_.a.defaults.baseURL="https://pixabay.com/api";var O=Object(E.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return _.a.get("?&key=".concat("15109703-4df3afa39634f93d9eb19fc69","&image_type=photo&orientation=horizontal&per_page=12&q=").concat(e,"&page=").concat(t))},1e3),k=a(3),w=a.n(k),j=function(e){var t=e.onSubmit;return r.a.createElement("header",{className:w.a.Searchbar},r.a.createElement("form",{className:w.a.SearchForm,onSubmit:t},r.a.createElement("button",{type:"submit",className:w.a["SearchForm-button"]},r.a.createElement("span",{className:w.a["SearchForm-button-label"]},"Search")),r.a.createElement("input",{className:w.a["SearchForm-input"],type:"text",autoComplete:"off",placeholder:"Search images and photos",name:"search"})))},R=a(27),F=a.n(R),L=function(e){var t=e.onClick;return r.a.createElement("button",{type:"button",onClick:t,className:F.a.Button},"Load more")},C=a(28),x=a.n(C),q=function(e){var t=e.text;return r.a.createElement("h1",{className:x.a.Error},t)},M=a(12),N=a.n(M),A=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={},a.overlayRef=Object(n.createRef)(),a.handleKeyPress=function(e){"Escape"===e.code&&(0,a.props.onClose)()},a.handleOverlayClick=function(e){var t=a.overlayRef.current;t&&e.target!==t||(0,a.props.onClose)()},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.image;return r.a.createElement("div",{className:N.a.Overlay,ref:this.overlayRef,onClick:this.handleOverlayClick},r.a.createElement("div",{className:N.a.Modal},r.a.createElement("img",{src:e,alt:"large"})))}}]),t}(n.Component),I=Object(n.lazy)(function(){return a.e(0).then(a.bind(null,79))});var U=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).page=1,a.state={collection:[],query:"",error:null,isLoading:!1,isOpen:!1,largeImg:""},a.handleRequest=function(){var e=Object(u.a)(i.a.mark(function e(t,n){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.handleLoading(!0),e.prev=1,e.next=4,O(t,n);case 4:r=e.sent,a.setState(function(e){return{collection:[].concat(Object(s.a)(e.collection),Object(s.a)((t=r.data.hits,t.map(function(e){return{id:e.id,smallImg:e.webformatURL,largeImg:e.largeImageURL}}))))};var t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a.setState({error:e.t0.message});case 11:a.handleLoading(!1);case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t,a){return e.apply(this,arguments)}}(),a.handleLoading=function(e){a.setState({isLoading:e})},a.handleSubmit=function(e){e.preventDefault();var t=e.currentTarget.elements.search;a.setState({query:t.value}),a.reset(),a.handleRequest(t.value,1)},a.handleClick=function(){a.page+=1;var e=a.state.query;a.handleRequest(e,a.page).then(function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})},a.reset=function(){a.page=1,a.setState({collection:[]})},a.handleShowModal=function(e){var t=a.state.isOpen;a.setState({isOpen:!t,largeImg:e})},a.closeModal=function(){return a.setState({isOpen:!1})},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.handleRequest()}},{key:"componentDidUpdate",value:function(e,t){var a=this.state.query;t.query!==a&&this.handleRequest(a,this.page)}},{key:"render",value:function(){var e=this.state,t=e.collection,a=e.isLoading,o=e.error,c=e.isOpen,l=e.largeImg;return r.a.createElement("div",{className:S.a.App},r.a.createElement(j,{onSubmit:this.handleSubmit}),r.a.createElement(n.Suspense,{fallback:r.a.createElement(r.a.Fragment,null)},r.a.createElement(I,{onRender:t,onShow:this.handleShowModal})),r.a.createElement(v.a,{visible:a,type:"TailSpin",color:"#00BFFF",height:100,width:100,className:S.a.Loader}),o&&r.a.createElement(q,{text:o}),t.length>1&&r.a.createElement(L,{onClick:this.handleClick}),c&&r.a.createElement(A,{image:l,onClose:this.closeModal}))}}]),t}(n.Component);U.defaultProps={};var B=U;a(75);c.a.render(r.a.createElement(B,null),document.getElementById("root"))}},[[30,2,3]]]);
//# sourceMappingURL=main.f6227dd8.chunk.js.map